#!/usr/bin/env ruby

#require_relative '../config/environment'
require_relative '../lib/scraper.rb'
require_relative '../lib/user.rb'

puts "Hello, Welcome to the College Matcher!"
puts "We will be using the Cappex Website"
puts "https://www.cappex.com/colleges-by-act/colleges-for-a-33-act"

user_arr = []

puts "What is your ACT score? [Enter a Number between 0-36]"
    score = gets.chomp
    puts "Your list of schools narrowed down is..."
    narrowed1 = User.act_score(score)
    puts narrowed1

puts "What is the maximum amount you are willing to pay per year? [Enter a Number between 0 & 100000]"
    target_price = gets.chomp
    puts "Your list of schools narrowed down is..."
    narrowed2 = User.price_match(target_price, narrowed1)
    puts narrowed2

puts "Do you prefer a public or private college? [Enter 1 for PUBLIC or 2 for PRIVATE]"
    priv_or_pub = gets.chomp
    puts "Your list of schools narrowed down is..."
    narrowed3 = User.pref_pub_priv(priv_or_pub,narrowed2)
    if narrowed3 == "Please enter another preference [Enter 1 for PUBLIC or 2 for PRIVATE]."
        puts "Your requirements are too strict. Please reevaluate your preferences."
    end
    puts narrowed3

puts "What is the maximum amount of students you prefer? [Enter a Number between 0 & 70000]"
    num_pref = gets.chomp
    puts "Your list of schools narrowed down is..."
    narrowed4 = User.num_of_students(num_pref,narrowed3)
    if narrowed4 == "Please enter a larger numerical preference for student population."
        num_pref2 = gets.chomp
        narrowed5 = User.num_of_students(num_pref2,narrowed3)
    end
    puts narrowed4

puts "Good luck with your applications!"
